%h1
  = @dish.title

%small
  = @dish.created_at.strftime("%b %d, %Y")

&nbsp;
|
&nbsp;

%small
  By:
  = @dish.user.email


%p
  = @dish.body

%h4 Ingredients :

- @dish.ingredient_ids.each do |ingredient_id|
  %ul
    %h4
      %li
        =link_to @ingredients.find(ingredient_id).name, @ingredients.find(ingredient_id)


%h5
  = link_to "Return to all Dishes.", dishes_path

  - if @dish.user == current_user
    / It is assumed that a user has only one role out of admin, resturant_owner and normal user.
    - if current_user.has_role? :resturant_owner
      &nbsp;
      |
      &nbsp;
      = link_to "Edit this Dish", edit_dish_path
      &nbsp;
      |
      &nbsp;
      = link_to 'Delete this Dish', @dish, :method => :delete, data: { confirm: 'Are you sure?' }

  - if current_user.has_role? :admin
    &nbsp;
    |
    &nbsp;
    = link_to 'Delete this Dish', @dish, :method => :delete, data: { confirm: 'Are you sure?' }
